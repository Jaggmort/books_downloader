<!doctype html>
<html lang='en'>
  <head>
    <meta charset='utf-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1, shrink-to-fit=no'>
    <link rel='stylesheet' href='../bootstrap/bootstrap.min.css'>
    <title>Book catalogue</title>
  </head>
  <body>
    <div class='container mt-5'>    
      <nav aria-label='Page navigation example'>
        <ul class='pagination'>
          {% if index == 1 %}
            <li class='page-item disabled'>
              <a class='page-link' tabindex='-1' href='index{{index-1}}.html'>Previous</a>
            </li>
          {% else %}
          <li class='page-item'>
            <a class='page-link' href='index{{index-1}}.html'>Previous</a>
          </li>          
          {% endif %}
          {% for page in range(1, number_of_pages + 1) %}
            {% if page == index %}
              <li class='page-item active' aria-current='page'>
                <a class='page-link' href='index{{page}}.html'>{{page}}<span class='sr-only'>(current)</span></a>
              </li>
            {% else %}
              <li class='page-item'>
                <a class='page-link' href='index{{page}}.html'>{{page}}</a>
              </li>            
            {% endif %}
          {% endfor %}
          {% if index == number_of_pages %}
            <li class='page-item disabled'>
              <a class='page-link' href='index{{index+1}}.html'>Previous</a>
            </li>
          {% else %}          
            <li class='page-item'>
              <a class='page-link' href='index{{index+1}}.html'>Next</a>
            </li>
          {% endif %}
        </ul>
      </nav>    
      {% for book in books %}
        <div class='container mb-3'> 
          <div class='row no-gutters'>                            
            {% for bk in book %}      
              <div class='col ' style='max-width: 200px;'>         
                {% if bk.img_src == 'no_file' %}
                  <img src='/media/images/nopic.gif' class='card-img' alt='{{bk.title}}'> 
                {% else %}
                  <img src=/{{bk.img_src}} class='card-img' alt='{{bk.title}}'>
                {% endif %}
              </div>                            
              <div class='col'>                                                
                <div class='card-body'>
                  <h5 class='card-title'>{{bk.title}}</h5>
                  <h5 class='card-text'>{{bk.author}}</h5>
                  <h6>
                    {% for genre in bk.genres[0] %}
                      {{genre}},
                    {% endfor %}
                  </h6>                  
                  <a  target='_blank' rel='noopener noreferrer' href='/{{bk.book_path|urlencode}}'>Читать</a>
                </div>
              </div>                                                                                              
            {% endfor %}                           
          </div>  
        </div> 
      {% endfor %}
    </div>     
    <link rel='icon' type='image/png' href='/static/favicon.ico' sizes>    
    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
    <script src='../bootstrap/jquery-3.5.1.slib.min.js'></script>
    <script src='../bootstrap/bootstrap.bundle.min.js'></script>

    <!-- Option 2: jQuery, Popper.js, and Bootstrap JS
    <script src='https://code.jquery.com/jquery-3.5.1.slim.min.js' integrity='sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj' crossorigin='anonymous'></script>
    <script src='https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js' integrity='sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN' crossorigin='anonymous'></script>
    <script src='https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js' integrity='sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s' crossorigin='anonymous'></script>
    -->
  </body>
</html>